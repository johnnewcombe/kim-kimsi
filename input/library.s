;-----------------------------------------------------------------------------
; Library Routines
;-----------------------------------------------------------------------------
; 6502 Generic Routines
;-----------------------------------------------------------------------------

;-----------------------------------------------------------------------------
; Variables
;-----------------------------------------------------------------------------
RND = $12                       ; six bytes of zero page for random string
;-----------------------------------------------------------------------------

;-----------------------------------------------------------------------------
RAND:
;-----------------------------------------------------------------------------
; Creates a reasonably random number between 00 and FF.
; The new random number will be in A.
;-----------------------------------------------------------------------------

            cld                 ; clear decimel
            sec
            lda RND+1           ; last value E
            adc RND+4           ; add B
            adc RND+5           ; add C
            sta RND             ; new number
            ldx #4              ; move 5 numbers
RPL:        lda RND,x
            sta RND+1,x         ; move over 1
            dex
            bpl RPL
            rts
